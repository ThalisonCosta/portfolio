import{j as e,r as f,u as g}from"./index-CgCM4PKA.js";import{T as k,M as w,H as j}from"./MarkdownRenderer-BsNxmDvp.js";const M=n=>{if(n===0)return"0 Bytes";const r=1024,l=["Bytes","KB","MB","GB"],o=Math.floor(Math.log(n)/Math.log(r));return`${parseFloat((n/Math.pow(r,o)).toFixed(2))} ${l[o]}`},T=n=>{switch(n){case"html":return"HTML";case"markdown":return"Markdown";case"text":return"Text";default:return n.toUpperCase()}},b=({fileName:n,fileType:r,zoom:l,theme:o,onZoomIn:a,onZoomOut:h,onZoomReset:i,onThemeToggle:p,fileSize:x})=>{const c={display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 16px",backgroundColor:o==="dark"?"#2d2d2d":"#f5f5f5",borderBottom:`1px solid ${o==="dark"?"#404040":"#e0e0e0"}`,fontSize:"12px",fontFamily:'Monaco, Menlo, "Ubuntu Mono", Consolas, source-code-pro, monospace',color:o==="dark"?"#cccccc":"#666666"},m={display:"flex",alignItems:"center",gap:"12px"},d={fontSize:"11px",fontFamily:"inherit",backgroundColor:"transparent",color:"inherit",border:"1px solid transparent",outline:"none",cursor:"pointer",padding:"4px 8px",borderRadius:"2px",transition:"all 0.1s ease"},u={...d,border:`1px solid ${o==="dark"?"#404040":"#e0e0e0"}`,minWidth:"40px",textAlign:"center"},s=(t,y)=>{y?t.currentTarget.style.backgroundColor=o==="dark"?"#404040":"#e0e0e0":t.currentTarget.style.backgroundColor="transparent"};return e.jsxs("div",{style:c,children:[e.jsxs("div",{style:m,children:[e.jsx("span",{children:n}),e.jsx("span",{children:"•"}),e.jsx("span",{children:T(r)}),e.jsx("span",{children:"•"}),e.jsx("span",{children:M(x)})]}),e.jsxs("div",{style:m,children:[e.jsx("span",{children:"Zoom:"}),e.jsx("button",{style:d,onClick:h,onMouseEnter:t=>s(t,!0),onMouseLeave:t=>s(t,!1),title:"Zoom Out",children:"-"}),e.jsxs("span",{style:u,children:[l,"%"]}),e.jsx("button",{style:d,onClick:a,onMouseEnter:t=>s(t,!0),onMouseLeave:t=>s(t,!1),title:"Zoom In",children:"+"}),e.jsx("button",{style:d,onClick:i,onMouseEnter:t=>s(t,!0),onMouseLeave:t=>s(t,!1),title:"Reset Zoom",children:"Reset"}),e.jsx("span",{children:"•"}),e.jsx("button",{style:d,onClick:p,onMouseEnter:t=>s(t,!0),onMouseLeave:t=>s(t,!1),title:"Toggle Theme",children:o==="dark"?"🌙":"☀️"})]})]})},S=n=>{switch(n.split(".").pop()?.toLowerCase()){case"html":case"htm":return"html";case"md":case"markdown":return"markdown";case"txt":default:return"text"}},v=({className:n="",fileName:r="sample.txt",fileContent:l=`Welcome to the File Viewer!

This is a sample text file. In a real implementation, this content would be loaded from the actual file system.`,fileType:o})=>{const[a,h]=f.useState(100),[i,p]=f.useState("light"),x=o||S(r),c=t=>{h(Math.max(25,Math.min(200,t)))},m=()=>{p(t=>t==="light"?"dark":"light")},d={display:"flex",flexDirection:"column",height:"100%",width:"100%",backgroundColor:i==="dark"?"#1e1e1e":"#ffffff",color:i==="dark"?"#f8f8f2":"#2f3337"},u={flex:1,overflow:"auto",padding:"16px",transform:`scale(${a/100})`,transformOrigin:"top left",width:`${100/(a/100)}%`,height:`${100/(a/100)}%`},s=()=>{switch(x){case"html":return e.jsx(j,{content:l,theme:i});case"markdown":return e.jsx(w,{content:l,theme:i});case"text":default:return e.jsx(k,{content:l,theme:i})}};return e.jsxs("div",{className:`file-viewer ${n}`,style:d,children:[e.jsx(b,{fileName:r,fileType:x,zoom:a,theme:i,onZoomIn:()=>c(a+25),onZoomOut:()=>c(a-25),onZoomReset:()=>c(100),onThemeToggle:m,fileSize:l.length}),e.jsx("div",{style:u,children:s()})]})},Z=({filePath:n})=>{const{fileSystem:r}=g(),[l,o]=f.useState("sample.txt"),[a,h]=f.useState(`Welcome to File Viewer!

Select a file to view its contents.`),[i,p]=f.useState("text");return f.useEffect(()=>{if(n){const x=(m,d)=>{for(const u of m){if(u.path===d&&u.type==="file")return u;if(u.children){const s=x(u.children,d);if(s)return s}}return null},c=x(r,n);if(c)switch(o(c.name),h(c.content||"Empty file"),c.name.split(".").pop()?.toLowerCase()){case"html":case"htm":p("html");break;case"md":case"markdown":p("markdown");break;case"txt":default:p("text");break}}},[n,r]),e.jsx("div",{style:{height:"100%",width:"100%",display:"flex",flexDirection:"column"},children:e.jsx(v,{fileName:l,fileContent:a,fileType:i})})};export{Z as FileViewerApp};
